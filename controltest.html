<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Gamepad Detection</title>
</head>
<body>
<h1 id="button"></h1>
<h1 id="gpInfo"></h1>
<script>
window.addEventListener("gamepadconnected", function(e) {
  var gp = navigator.getGamepads()[e.gamepad.index];
  document.getElementById("gpInfo").innerHTML = "A " + gp.id + " was successfully detected! There are a total of " + gp.buttons.length + " buttons.";

  setInterval(function(){
    gp = navigator.getGamepads()[e.gamepad.index];  // Refresh the gamepad object
    var isPressed = gp.buttons[0].pressed;
    document.getElementById("button").innerHTML = isPressed;
  }, 100);
});
</script>
</body>
</html>
